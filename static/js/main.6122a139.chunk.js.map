{"version":3,"sources":["redux/reducers.js","redux/store.js","Components/App/Navbar/Navbar.jsx","Components/App/Card/Card.jsx","redux/actions.js","pages/pokemon.jsx","Components/App/App.js","index.js"],"names":["initialState","pokemons","reducer","state","action","type","store","createStore","Navbar","className","Card","pokemon","src","sprites","front_shiny","name","types","map","weight","height","abilities","ability","setPokemons","pokemonsData","Pokemon","dispatch","useDispatch","useState","prevPage","setPrevPage","nextPage","setNextPage","loading","setLoading","Url","setUrl","useSelector","useEffect","a","axios","get","res_list","datas","data","console","log","previous","next","pokemonsInfos","results","fetchData","Promise","all","url","pokemon_list","pokemonsinfos","goToPrevPage","goToNextPage","style","textAlign","color","Spinner","alignItems","Button","onClick","class","i","key","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6122a139.chunk.js","sourcesContent":["const initialState = {\r\n  pokemons: [],\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"setPokemons\":\r\n      return {\r\n        ...state,\r\n        pokemons: action.pokemons,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport \"./Navbar.css\";\r\n\r\nfunction Navbar() {\r\n  return <div className=\"Navbar\">Pokedex Api</div>;\r\n}\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport \"./Card.css\";\r\nfunction Card({ pokemon }) {\r\n  return (\r\n    <div className=\"Card\">\r\n      <div className=\"CardImage\">\r\n        <img src={pokemon.sprites.front_shiny} />\r\n      </div>\r\n      <div className=\"CardName\">{pokemon.name}</div>\r\n      <div className=\"CardTypes\">\r\n        {pokemon.types.map((type) => {\r\n          return <div className=\"CardType\">{type.type.name}</div>;\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"CardInfo\">\r\n        <div className=\"CardData CardDataWeight\">\r\n          <p>Poids</p>\r\n          <p>{pokemon.weight}</p>\r\n        </div>\r\n        <div className=\"CardData CardDataHeight\">\r\n          <p>Taille</p>\r\n          <p>{pokemon.height}</p>\r\n        </div>\r\n        <div className=\"CardData CardDataAbility\">\r\n          <p>Types</p>\r\n          <p>{pokemon.abilities[0].ability.name}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;\r\n","const setPokemons = (pokemonsData) => {\r\n  return {\r\n    type: \"setPokemons\",\r\n    pokemons: pokemonsData,\r\n  };\r\n};\r\n\r\nexport { setPokemons };\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport NavBar from \"../Components/App/Navbar/Navbar\";\r\nimport Card from \"../Components/App/Card/Card\";\r\nimport { Button, Spinner } from \"reactstrap\";\r\nimport \"../Components/App/App.css\";\r\nimport { setPokemons } from \"../redux/actions\";\r\n\r\nexport default function Pokemon() {\r\n  const dispatch = useDispatch(); // déclaration de dispatch pour l'utiliser dans le composant\r\n  const [prevPage, setPrevPage] = useState(\"\");\r\n  const [nextPage, setNextPage] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [Url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon\");\r\n\r\n  const Pokemon = useSelector((state) => state.pokemons); // récupérer les pokemons depuis le store\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    async function fetchData() {\r\n      let res_list = await axios.get(Url);\r\n      let datas = res_list.data;\r\n      console.log(datas);\r\n      setPrevPage(datas.previous);\r\n      setNextPage(datas.next);\r\n      await pokemonsInfos(datas.results);\r\n      setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [Url]);\r\n\r\n  let pokemonsInfos = async (data) => {\r\n    let pokemonsData = await Promise.all(\r\n      data.map(async (pokemon) => {\r\n        let pokemon_list = await axios.get(pokemon.url);\r\n        let pokemonsinfos = pokemon_list.data;\r\n        return pokemonsinfos;\r\n      })\r\n    );\r\n    console.log(pokemonsData);\r\n    dispatch(setPokemons(pokemonsData)); // mettre à jour les pokemons dans le store\r\n  };\r\n  console.log(Pokemon);\r\n\r\n  const goToPrevPage = async () => {\r\n    setLoading(true);\r\n    var datas = await axios.get(prevPage);\r\n    console.log(datas);\r\n    let data = datas.data;\r\n    await pokemonsInfos(data.results);\r\n\r\n    setPrevPage(data.previous);\r\n    setNextPage(data.next);\r\n    setLoading(false);\r\n  };\r\n\r\n  const goToNextPage = async () => {\r\n    setLoading(true);\r\n    var datas = await axios.get(nextPage);\r\n    let data = datas.data;\r\n    await pokemonsInfos(data.results);\r\n\r\n    setPrevPage(data.previous);\r\n    setNextPage(data.next);\r\n    setUrl(nextPage);\r\n    setLoading(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <h2 style={{ color: \"black\" }}>Chargement des pokemons</h2>\r\n        <Spinner color=\"warning\" style={{ alignItems: \"center\" }} />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div>\r\n        <NavBar />\r\n        <div className=\"btn\">\r\n          <Button\r\n            color=\"danger\"\r\n            onClick={prevPage ? goToPrevPage : null}\r\n            className=\"btn-prev\"\r\n          >\r\n            Page précédente\r\n          </Button>\r\n          <Button\r\n            color=\"warning\"\r\n            onClick={nextPage ? goToNextPage : null}\r\n            className=\"btn-next\"\r\n          >\r\n            Page suivante\r\n          </Button>\r\n        </div>\r\n        <div class=\"pokemons_container\">\r\n          {Pokemon.map((pokemon, i) => {\r\n            return <Card key={i} pokemon={pokemon} />;\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport \"./App.css\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"../../redux/store\";\nimport Pokemon from \"../../pages/pokemon\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router>\n        <Switch>\n          <Route path=\"/\" component={Pokemon} />\n        </Switch>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App/App\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n\n\n"],"sourceRoot":""}